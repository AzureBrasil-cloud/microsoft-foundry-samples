# Criação e gestão de Vector Stores (OpenAI / Azure)

Guia rápido para criar uma vector store a partir de arquivos previamente enviado usando o Access Token obtido em [1.ACCESS_TOKEN_ACQUISITION.MD](./1.ACCESS_TOKEN_ACQUISITION.MD).

---

## Pré-requisitos
- Access Token válido (veja [1.ACCESS_TOKEN_ACQUISITION.MD](./1.ACCESS_TOKEN_ACQUISITION.MD)).
- `AZURE_PROJECT_URL` configurada (URL do recurso/projeto).
- Arquivos já enviados e processados (veja [2.UPLOAD_FILE.MD](./2.UPLOAD_FILE.md)).
- `curl` instalado 

Exemplo de variáveis:
```bash
export AZURE_PROJECT_URL="https://<seu-recurso>.services.ai.azure.com/api/projects/<nome-do-projeto>"
export AZURE_ACCESS_TOKEN="<seu_access_token>"
```

---

## Criar Vector Store (curl)

Campos principais:
- name: nome identificador.
- file_ids: lista de ids de arquivos que servirão de base (devem estar processados).
- expires_after: opcional, quando expira (anchor: last_active_at|created_at, days: número).

Exemplo:
```bash
curl -s -X POST "${AZURE_PROJECT_URL}/openai/vector_stores?api-version=2025-11-15-preview" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer ${AZURE_ACCESS_TOKEN}" \
  -d '{
    "name": "minha-vectorstore",
    "expires_after": { "anchor": "last_active_at", "days": 365 },
    "file_ids": ["<FILE_ID_1>", "<FILE_ID_2>"]
  }'
```

```json
{
  "id": "<vector_store_id>",
  "object": null,
  "name": null,
  "status": null,
  "usage_bytes": null,
  "created_at": null,
  "file_counts": {
    "in_progress": null,
    "completed": null,
    "failed": null,
    "cancelled": null,
    "total": null
  },
  "metadata": {},
  "expires_after": {
    "anchor": null,
    "days": null
  },
  "expires_at": null,
  "last_active_at": null
}


```

  