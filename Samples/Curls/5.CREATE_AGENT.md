# Criar e gerir Agents (OpenAI / Azure)

Guia rápido para criar um agente (agent version) usando o Access Token obtido em [1.ACCESS_TOKEN_ACQUISITION.MD](./1.ACCESS_TOKEN_ACQUISITION.MD).

---

## Pré-requisitos
- Access Token válido (veja [1.ACCESS_TOKEN_ACQUISITION.MD](./1.ACCESS_TOKEN_ACQUISITION.MD)).
- `AZURE_PROJECT_URL` configurada (URL do recurso/projeto).
- `AZURE_ACCESS_TOKEN` exportada no ambiente.
- `curl` instalado.

Exemplo:
```bash
export AZURE_PROJECT_URL="https://<seu-recurso>.services.ai.azure.com/api/projects/<nome-do-projeto>"
export AZURE_ACCESS_TOKEN="<seu_access_token>"
```

---

## Criar versão de agente (curl)

Exemplo simples criando uma versão de agente que usa um prompt-instructions:
```bash
AGENT_NAME="meu-agente-teste"
DEPLOYMENT_NAME="gpt-4.1-mini"
INSTRUCTIONS="You are a helpful assistant that answers questions about associated files only"

curl -s -X POST "${AZURE_PROJECT_URL}/agents/${AGENT_NAME}/versions?api-version=2025-11-15-preview" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer ${AZURE_ACCESS_TOKEN}" \
  -d "{
    \"definition\": {
      \"kind\": \"prompt\",
      \"model\": \"${DEPLOYMENT_NAME}\",
      \"instructions\": \"${INSTRUCTIONS}\"
    }
  }"
```

Resposta:

```json
{
  "metadata": {},
  "object": null,
  "id": "<agent_name:agent_version>",
  "name": "<agent_name>",
  "version":"<agent_version>",
  "description": null,
  "created_at": null,
  "definition": {
    "kind": null,
    "model": null,
    "instructions": null
  }
}
`

```