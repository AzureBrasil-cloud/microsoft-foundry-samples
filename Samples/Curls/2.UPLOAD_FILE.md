# Upload de arquivo (OpenAI / Azure)

Este guia mostra como enviar um arquivo para o endpoint /openai/files usando o Access Token obtido no [1.ACCESS_TOKEN_ACQUISITION.MD](./1.ACCESS_TOKEN_AQUISITION.MD) e como listar, baixar e deletar arquivos.


---

## Pré-requisitos
- Obter um Access Token (veja [1.ACCESS_TOKEN_ACQUISITION.MD](./1.ACCESS_TOKEN_AQUISITION.MD)).
- Ter a variável `AZURE_PROJECT_URL` configurada (URL do recurso/projeto).
- Ter `curl` instalado no ambiente.

Exemplo de variável:
```bash
export AZURE_PROJECT_URL="https://<seu-recurso>.services.ai.azure.com/api/projects/<nome-do-projeto>"
export AZURE_ACCESS_TOKEN="<seu_access_token>"
```
---
## Upload (curl)

Observação importante: ao enviar um arquivo via multipart/form-data, use `@` para anexar o conteúdo do arquivo.

Exemplo:
```bash
FILEPATH="/caminho/para/seu_arquivo.txt"
curl -s -X POST \
  "${AZURE_PROJECT_URL}/openai/files?api-version=2025-11-15-preview" \
  -H "Authorization: Bearer ${AZURE_ACCESS_TOKEN}" \
  -H "Accept: application/json" \
  -F "file=@${FILEPATH};type=$(file --brief --mime-type "${FILEPATH}")" \
  -F "purpose=assistants"
```

Resposta típica:
```json
{
  "id": "<seu_file_id>",
  "filename": "seu_arquivo.txt",
  "bytes": 12345,
  "created_at": 1670000000,
  "status": "processed",
  "status_details": null
}
```

---